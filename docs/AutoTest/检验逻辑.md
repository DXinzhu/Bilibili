# Bilibili APP 自动化测试检验逻辑

## 指令1: 在我的页面，点击历史记录入口，查看观看历史
**检验逻辑:**
- step1. 通过logcat检测是否触发了HISTORY_TAB_VIEWED日志标记
- step2. 检测是否成功加载历史记录数据(HISTORY_DATA_LOADED)
- step3. 验证加载的历史记录数量是否与assets/data/watch_history.json中的数量一致
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令2: 在我的页面查看会员状态
**检验逻辑:**
- step1. 通过logcat检测是否触发了VIP_STATUS_VIEWED日志标记
- step2. 检测是否成功获取会员状态数据(VIP_DATA_LOADED)
- step3. 验证获取的会员类型(普通/大会员/年度大会员)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令3: 在首页搜索框输入游戏解说，点击搜索按钮
**检验逻辑:**
- step1. 通过logcat检测是否触发了SEARCH_INPUT日志标记,参数包含"游戏解说"
- step2. 检测是否触发了SEARCH_BUTTON_CLICKED日志标记
- step3. 检测是否成功加载搜索结果(SEARCH_RESULTS_LOADED)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令4: 点击首页动画频道图标，进入动画频道页
**检验逻辑:**
- step1. 通过logcat检测是否触发了CHANNEL_ICON_CLICKED日志标记,参数包含"动画"
- step2. 检测是否进入动画频道页面(ANIMATION_CHANNEL_ENTERED)
- step3. 检测是否成功加载频道内容(CHANNEL_CONTENT_LOADED)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令5: 在视频播放页，点击「点赞」按钮
**检验逻辑:**
- step1. 通过logcat检测是否进入视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测是否触发了LIKE_BUTTON_CLICKED日志标记
- step3. 验证点赞状态是否更新(LIKE_STATUS_CHANGED: liked)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令6: 在我的页面，点击我的收藏，查看其中的视频
**检验逻辑:**
- step1. 通过logcat检测是否触发了FAVORITE_TAB_CLICKED日志标记
- step2. 检测是否进入收藏页面(FAVORITE_PAGE_ENTERED)
- step3. 检测是否成功加载收藏视频列表(FAVORITE_DATA_LOADED)
- step4. 验证加载的收藏数量是否>0
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令7: 在视频播放页，点击「收藏」按钮
**检验逻辑:**
- step1. 通过logcat检测是否进入视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测是否触发了FAVORITE_BUTTON_CLICKED日志标记
- step3. 验证收藏状态是否更新(FAVORITE_STATUS_CHANGED: favorited)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令8: 在首页观看一条推荐中的视频
**检验逻辑:**
- step1. 通过logcat检测是否在首页(HOME_PAGE_ACTIVE)
- step2. 检测是否点击了推荐视频(RECOMMEND_VIDEO_CLICKED)
- step3. 检测是否进入视频播放页(VIDEO_PLAYER_OPENED)
- step4. 检测视频是否开始播放(VIDEO_PLAYBACK_STARTED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令9: 在我的页面，点击顶部头像或昵称区域，进入个人资料页查看信息
**检验逻辑:**
- step1. 通过logcat检测是否在我的页面(MY_PAGE_ACTIVE)
- step2. 检测是否点击了头像/昵称区域(PROFILE_HEADER_CLICKED)
- step3. 检测是否进入个人资料页(PROFILE_PAGE_ENTERED)
- step4. 检测是否成功加载个人资料数据(PROFILE_DATA_LOADED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令10: 在视频播放页面，点击全屏按钮，进入全屏模式观看
**检验逻辑:**
- step1. 通过logcat检测是否在视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测是否点击了全屏按钮(FULLSCREEN_BUTTON_CLICKED)
- step3. 验证是否进入全屏模式(FULLSCREEN_MODE_ENTERED)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令11: 在UP主逍遥散人主页查看其粉丝数
**检验逻辑:**
- step1. 通过logcat检测是否进入UP主主页(UPLOADER_PAGE_ENTERED)
- step2. 验证UP主名称是否为"逍遥散人"
- step3. 检测是否成功加载UP主数据(UPLOADER_DATA_LOADED)
- step4. 提取并验证粉丝数是否>0(FANS_COUNT_DISPLAYED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令12: 在我的页面，找到并点击"离线缓存"入口，进入离线缓存页面
**检验逻辑:**
- step1. 通过logcat检测是否在我的页面(MY_PAGE_ACTIVE)
- step2. 检测是否点击了离线缓存入口(OFFLINE_CACHE_CLICKED)
- step3. 检测是否进入离线缓存页面(OFFLINE_CACHE_PAGE_ENTERED)
- step4. 检测是否成功加载缓存列表(CACHE_LIST_LOADED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令13: 在视频播放页，点击暂停按钮暂停视频播放
**检验逻辑:**
- step1. 通过logcat检测是否在视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测视频是否正在播放(VIDEO_PLAYBACK_STARTED)
- step3. 检测是否点击了暂停按钮(PAUSE_BUTTON_CLICKED)
- step4. 验证视频是否已暂停(VIDEO_PAUSED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令14: 点击关注页查看第一个动态
**检验逻辑:**
- step1. 通过logcat检测是否进入关注页(FOLLOW_PAGE_ENTERED)
- step2. 检测是否成功加载动态列表(DYNAMIC_LIST_LOADED)
- step3. 检测是否点击了第一个动态(FIRST_DYNAMIC_CLICKED)
- step4. 检测是否成功打开动态详情(DYNAMIC_DETAIL_OPENED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令15: 点击关注页，查看最近访问的up主
**检验逻辑:**
- step1. 通过logcat检测是否进入关注页(FOLLOW_PAGE_ENTERED)
- step2. 检测是否点击了"最近访问"标签(RECENT_VISIT_TAB_CLICKED)
- step3. 检测是否成功加载最近访问列表(RECENT_VISIT_LOADED)
- step4. 验证列表中是否有UP主数据(UPLOADER_LIST_COUNT > 0)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令16: 对首页第一条视频评论，点击回复，输入"谢谢分享！"并发送
**检验逻辑:**
- step1. 通过logcat检测是否在首页(HOME_PAGE_ACTIVE)
- step2. 检测是否点击了第一条视频(FIRST_VIDEO_CLICKED)
- step3. 检测是否进入评论页面(COMMENT_PAGE_ENTERED)
- step4. 检测是否点击了回复按钮(REPLY_BUTTON_CLICKED)
- step5. 检测是否输入了"谢谢分享！"(COMMENT_INPUT_TEXT: "谢谢分享！")
- step6. 检测是否点击了发送按钮(SEND_BUTTON_CLICKED)
- step7. 验证评论是否发送成功(COMMENT_SENT_SUCCESS)
- step8. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令17: 在视频播放页点击关注按钮
**检验逻辑:**
- step1. 通过logcat检测是否在视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测是否点击了关注按钮(FOLLOW_BUTTON_CLICKED)
- step3. 验证关注状态是否更新(FOLLOW_STATUS_CHANGED: followed)
- step4. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令18: 查看关注列表逍遥散人的主页
**检验逻辑:**
- step1. 通过logcat检测是否进入关注列表(FOLLOW_LIST_ENTERED)
- step2. 检测是否找到"逍遥散人"(UPLOADER_FOUND: 逍遥散人)
- step3. 检测是否点击进入其主页(UPLOADER_PAGE_ENTERED: 逍遥散人)
- step4. 检测是否成功加载UP主数据(UPLOADER_DATA_LOADED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令19: 在首页推荐视频评论页面，为最新评论点赞
**检验逻辑:**
- step1. 通过logcat检测是否在首页(HOME_PAGE_ACTIVE)
- step2. 检测是否打开了推荐视频的评论页面(COMMENT_PAGE_ENTERED)
- step3. 检测是否成功加载评论列表(COMMENT_LIST_LOADED)
- step4. 检测是否为最新评论点赞(COMMENT_LIKE_CLICKED: first_comment)
- step5. 验证评论点赞状态是否更新(COMMENT_LIKE_STATUS_CHANGED)
- step6. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令20: 在搜索游戏解说后页面，查看本次搜索共找到多少个结果
**检验逻辑:**
- step1. 通过logcat检测是否完成了"游戏解说"搜索(SEARCH_COMPLETED: 游戏解说)
- step2. 检测是否进入搜索结果页面(SEARCH_RESULTS_PAGE_ENTERED)
- step3. 检测是否成功获取结果数量(SEARCH_RESULTS_COUNT_DISPLAYED)
- step4. 提取并验证结果数量是否>0
- step5. 验证显示的数量与实际加载的视频数量是否一致
- step6. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令21: 在视频播放页面，暂停播放
**检验逻辑:**
- step1. 通过logcat检测是否在视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测视频是否正在播放(VIDEO_PLAYBACK_STARTED)
- step3. 检测是否触发暂停操作(PAUSE_ACTION_TRIGGERED)
- step4. 验证视频是否已暂停(VIDEO_PAUSED)
- step5. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令22: 搜索视频"游戏解说"，播放搜索出的第一个视频，点赞
**检验逻辑:**
- step1. 通过logcat检测是否完成了"游戏解说"搜索(SEARCH_COMPLETED: 游戏解说)
- step2. 检测是否点击了第一个搜索结果(FIRST_SEARCH_RESULT_CLICKED)
- step3. 检测是否进入视频播放页(VIDEO_PLAYER_OPENED)
- step4. 检测视频是否开始播放(VIDEO_PLAYBACK_STARTED)
- step5. 检测是否点击了点赞按钮(LIKE_BUTTON_CLICKED)
- step6. 验证点赞状态是否更新(LIKE_STATUS_CHANGED: liked)
- step7. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令23: 查看收藏的第一个视频的视频时长
**检验逻辑:**
- step1. 通过logcat检测是否进入收藏页面(FAVORITE_PAGE_ENTERED)
- step2. 检测是否成功加载收藏列表(FAVORITE_DATA_LOADED)
- step3. 检测是否点击了第一个收藏视频(FIRST_FAVORITE_VIDEO_CLICKED)
- step4. 检测是否成功获取视频时长(VIDEO_DURATION_DISPLAYED)
- step5. 提取并验证时长格式是否正确(MM:SS 或 HH:MM:SS)
- step6. 验证时长与assets数据是否一致
- step7. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令24: 在收藏页面查看该收藏中共收藏了多少个视频
**检验逻辑:**
- step1. 通过logcat检测是否进入收藏页面(FAVORITE_PAGE_ENTERED)
- step2. 检测是否成功加载收藏数据(FAVORITE_DATA_LOADED)
- step3. 检测是否显示收藏数量(FAVORITE_COUNT_DISPLAYED)
- step4. 提取并验证收藏数量
- step5. 验证显示数量与实际列表数量是否一致
- step6. 验证数量与assets/data/favorites.json中的数量是否一致
- step7. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令25: 在视频播放页面，点击"弹幕"开关将其关闭，然后重新打开
**检验逻辑:**
- step1. 通过logcat检测是否在视频播放页(VIDEO_PLAYER_OPENED)
- step2. 检测初始弹幕状态(DANMAKU_INITIAL_STATE: on)
- step3. 检测是否点击弹幕开关(DANMAKU_SWITCH_CLICKED)
- step4. 验证弹幕是否关闭(DANMAKU_STATUS_CHANGED: off)
- step5. 检测是否再次点击弹幕开关(DANMAKU_SWITCH_CLICKED)
- step6. 验证弹幕是否重新打开(DANMAKU_STATUS_CHANGED: on)
- step7. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令26: 在大会员页面，查看大会员有效期
**检验逻辑:**
- step1. 通过logcat检测是否进入大会员页面(VIP_PAGE_ENTERED)
- step2. 检测是否成功加载大会员数据(VIP_DATA_LOADED)
- step3. 检测是否显示有效期(VIP_EXPIRE_DATE_DISPLAYED)
- step4. 提取并验证有效期格式(YYYY-MM-DD)
- step5. 验证有效期与assets数据是否一致
- step6. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令27: 在历史记录页面，找到昨天观看过的一个视频，长按该记录项，将其从历史记录中删除
**检验逻辑:**
- step1. 通过logcat检测是否进入历史记录页面(HISTORY_PAGE_ENTERED)
- step2. 检测是否成功加载历史数据(HISTORY_DATA_LOADED)
- step3. 检测是否找到昨天的视频记录(YESTERDAY_VIDEO_FOUND)
- step4. 检测是否长按该记录项(HISTORY_ITEM_LONG_PRESSED)
- step5. 检测是否点击删除操作(DELETE_BUTTON_CLICKED)
- step6. 验证记录是否被删除(HISTORY_ITEM_DELETED)
- step7. 验证删除后的历史记录数量是否减少1
- step8. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令28: 在首页第一条视频评论页面，找到一条点赞数最高的评论
**检验逻辑:**
- step1. 通过logcat检测是否在首页(HOME_PAGE_ACTIVE)
- step2. 检测是否点击了第一条视频(FIRST_VIDEO_CLICKED)
- step3. 检测是否进入评论页面(COMMENT_PAGE_ENTERED)
- step4. 检测是否成功加载评论列表(COMMENT_LIST_LOADED)
- step5. 检测是否切换到"按热度排序"(SORT_BY_LIKES_SELECTED)
- step6. 检测是否找到点赞数最高的评论(TOP_LIKED_COMMENT_FOUND)
- step7. 提取并验证该评论的点赞数是否最高
- step8. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令29: 在设置中，查看当前定时关闭是否开启
**检验逻辑:**
- step1. 通过logcat检测是否进入设置页面(SETTINGS_PAGE_ENTERED)
- step2. 检测是否找到定时关闭选项(TIMER_SHUTDOWN_OPTION_FOUND)
- step3. 检测是否点击查看定时关闭设置(TIMER_SHUTDOWN_CLICKED)
- step4. 检测是否成功获取当前状态(TIMER_SHUTDOWN_STATUS_LOADED)
- step5. 提取并验证状态值(开启/关闭)
- step6. 输出: True(所有检测通过) 或 False(任一检测失败)

## 指令30: 在直播推荐页面，查看第一个直播的在线观看人数
**检验逻辑:**
- step1. 通过logcat检测是否进入直播标签页(LIVE_TAB_ENTERED)
- step2. 检测是否成功加载直播推荐列表(LIVE_RECOMMEND_LOADED)
- step3. 检测是否找到第一个直播(FIRST_LIVE_FOUND)
- step4. 检测是否显示在线观看人数(LIVE_VIEWER_COUNT_DISPLAYED)
- step5. 提取并验证观看人数是否>0
- step6. 验证人数格式是否正确(数字+单位,如"1.2万")
- step7. 输出: True(所有检测通过) 或 False(任一检测失败)
